<!DOCTYPE html>
<html>
<head>

    {% include head.html %}
    <link rel="stylesheet" href="css/layouts/topic/topic.css">

    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            var payloadObj = {
                    action: 'videoModal',
                    selector: 'topicGuide',
                    payload:{url:""}
                    };
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });

            function videoCallback(e){
                e.preventDefault();
                payloadObj.payload.url = e.currentTarget.href;
                window.parent.postMessage(payloadObj, '*');


            }
            $('.introduction-video a').on('click',videoCallback);

            $('details-video a').on('click',videoCallback);

            $('a.tour-guide[topic-id]').on('click', function(e){
                 e.preventDefault();
                  window.parent.postMessage({
                                      action: 'guidedTour',
                                      selector: 'topicGuide',
                                       payload:{topicId:e.currentTarget.getAttribute('topic-id')}
                                      }, '*');
            })
        });
    </script>
    {% if page.datatable == true %}
    <!-- Include the standard DataTables bits -->
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.13/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.13/js/jquery.dataTables.js"></script>
    <!-- First, this walks through the tables that occur between ...-begin
         and ...-end and add the "datatable" class to them.
         Then it invokes DataTable's standard initializer
         Credit here: http://www.beardedhacker.com/blog/2015/08/28/add-class-attribute-to-markdown-table/
      -->
    <script>
      $(document).ready(function(){
          $('div.datatable-begin').nextUntil('div.datatable-end', 'table').addClass('display');
          $('table.display').DataTable( {
              paging: true,
              stateSave: true,
              searching: true
          });
       });
    </script>
    {% endif %}

</head>
<body>

<!-- Page Content -->
<div class="topic-container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        {% assign content_col_size = "col-md-12" %}


        <!-- Content Column -->
        <div class="{{content_col_size}}" id="tg-sb-content">
            {{content}}
        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>

